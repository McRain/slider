"use strict";(self.webpackChunk_reneos_3d_mod_tweens=self.webpackChunk_reneos_3d_mod_tweens||[]).push([[84,261,637,908],{70:(e,t,n)=>{n.d(t,{A:()=>i});const o=new(n(816).Group);let a=!1;class r{static get Group(){return o}static Add(e){o.add(e),a||(a=!0,r.Update())}static Remove(e){o.remove(e),0===o.getAll().length&&(a=!1)}static Update(e){a&&(o.update(e),requestAnimationFrame(r.Update))}static ToDegrees(e){return 180*e/Math.PI}static ToRadians(e){return e*Math.PI/180}static ToRadiansV3(e){return{x:e.x*Math.PI/180,y:e.y*Math.PI/180,z:e.z*Math.PI/180}}}const i=r},155:(e,t,n)=>{n.r(t),n.d(t,{default:()=>i});var o=n(816),a=n(70);const r=`${Date.now()}_${Math.random()}`;function i(e,t,n=!1){return new Promise((i=>{e.tween&&e.tween.uid===r&&(e.tween.stop(),a.A.Remove(e.tween));let l=t;if(e.paths)for(let t=0;t<e.paths.length;t++)l=l[e.paths[t]];if(e.target)for(let t=0;t<e.target.length;t++)l=l.children.find((n=>n.uid===e.target[t]));const s="accurate"===e.from.type?{...e.from.value}:{x:l.model.scale.x+e.from.value.x,y:l.model.scale.y+e.from.value.y,z:l.model.scale.z+e.from.value.z};let d=e.scale||l.data.scale||l.model.data.scale||l.model.scale;if("target"===e.to.type){let n=t.slide||t;for(let t=0;t<e.to.paths.length;t++)n=n.children.find((n=>n.uid===e.to.paths[t]));d=n.scale||n.model.scale}const c="accurate"===e.to.type?e.to.value:{x:d.x+e.to.value.x,y:d.y+e.to.value.y,z:d.z+e.to.value.z};l.model.scale.copy(s),l.model.visible=!0,e.tween=new o.Tween(s).to(c,n?0:e.time||1e3).delay(n?0:e.delay||0).easing(o.Easing.Quadratic.InOut).yoyo(e.yoyo).repeat(e.repeat).onUpdate((()=>{l.model.scale.copy(s)})).onComplete((()=>{a.A.Remove(e.tween),e.tween=null,i()})),e.tween.uid=r,e.tween.start(),a.A.Add(e.tween)}))}},195:(e,t,n)=>{n.r(t),n.d(t,{default:()=>i});var o=n(816),a=n(70);const r=`${Date.now()}_${Math.random()}`;function i(e,t,n=!1){return new Promise((i=>{e.tween&&e.tween.uid===r&&(e.tween.stop(),a.A.Remove(e.tween));let l=t;if(e.paths)for(let t=0;t<e.paths.length;t++)l=l[e.paths[t]];if(e.target)for(let t=0;t<e.target.length;t++)l=l.children.find((n=>n.uid===e.target[t]));const s="accurate"===e.from.type?{...e.from.value}:{x:l.model.position.x+e.from.value.x,y:l.model.position.y+e.from.value.y,z:l.model.position.z+e.from.value.z};let d=e.position||l.data.position||l.model.data.position||l.model.position;if("target"===e.to.type){let n=t.slide||t;for(let t=0;t<e.to.paths.length;t++)n=n.children.find((n=>n.uid===e.to.paths[t]));d=n.position||n.model.position}const c="accurate"===e.to.type?e.to.value:{x:d.x+e.to.value.x,y:d.y+e.to.value.y,z:d.z+e.to.value.z};l.model.position.copy(s),l.model.visible=!0,e.tween=new o.Tween(s).to(c,n?0:e.time||1e3).delay(n?0:e.delay||0).easing(o.Easing.Quadratic.InOut).yoyo(e.yoyo).repeat(e.repeat).onUpdate((()=>{l.model.position.copy(s)})).onComplete((()=>{a.A.Remove(e.tween),e.tween=null,i()})),e.tween.uid=r,e.tween.start(),a.A.Add(e.tween)}))}},470:(e,t,n)=>{n.r(t),n.d(t,{default:()=>l});var o=n(816),a=n(70),r=n(500);const i=`${Date.now()}_${Math.random()}`;function l(e,t,n=!1){return new Promise((l=>{e.tween&&e.tween.uid===i&&(e.tween.stop(),a.A.Remove(e.tween));let s=t;try{e.paths&&e.paths.forEach((e=>{if(!s)throw new Error(`Target is null at path ${e}`);s=s[e]})),e.target&&e.target.forEach((e=>{if(!s?.children)throw new Error("No children in target");const t=s.children.find((t=>t.uid===e));if(!t)throw new Error(`Child with uid ${e} not found`);s=t}))}catch(e){return console.error("Target resolution error:",e),l()}if(!s?.model)return console.error("Target model not found"),l();const d=(e,t,n)=>{const o="accurate"===t?a.A.ToRadiansV3({...e}):{x:(n?.x||0)+a.A.ToRadians(e?.x||0),y:(n?.y||0)+a.A.ToRadians(e?.y||0),z:(n?.z||0)+a.A.ToRadians(e?.z||0)};return new r.Euler(o.x,o.y,o.z,"XYZ")};let c=e.rotation||s.data?.rotation||s.model.data?.rotation;if("target"===e.to?.type)try{let n=t.slide||t;for(const t of e.to.paths||[]){if(!n?.children)throw new Error("No children in intermediate target");if(n=n.children.find((e=>e.uid===t)),!n)throw new Error(`Target with uid ${t} not found`)}c=n.rotation||n.model.rotation}catch(e){return console.error("Target rotation resolution error:",e),l()}const u=d(e.from.value,e.from.type,s.model.rotation),w=d(e.to?.value||{},e.to?.type,c),m=(new r.Quaternion).setFromEuler(u),p=(new r.Quaternion).setFromEuler(w),y=m.clone();s.model.quaternion.copy(m);const f={t:0};e.tween=new o.Tween(f).to({t:1},n?0:e.time||1e3).delay(n?0:e.delay||0).easing(o.Easing.Quadratic.InOut).yoyo(Boolean(e.yoyo)).repeat(e.repeat||0).onUpdate((()=>{y.copy(m).slerp(p,f.t),s.model.quaternion.copy(y)})).onComplete((()=>{a.A.Remove(e.tween),e.tween=null,l()})).onStop((()=>{a.A.Remove(e.tween),e.tween=null,l()})),e.tween.uid=i,a.A.Add(e.tween),e.tween.start()}))}},844:(e,t,n)=>{n.r(t);var o=n(320),a=n(27),r=n(155),i=n(195),l=n(470),s=n(816);const d=o.default||o;!function e(){if(d.engine.ready){if(d.engine.getManager("ActionsManager").RegisterAction("TweenScale",r.default),d.engine.getManager("ActionsManager").RegisterAction("TweenPos",i.default),d.engine.getManager("ActionsManager").RegisterAction("TweenRotate",l.default),!window.isEditor)return;const e=(0,a.defineAsyncComponent)((async()=>{const e=await n.e(821).then(n.t.bind(n,202,19));return e.default||e}));window.vue.component("TweenScale",e);const t=(0,a.defineAsyncComponent)((async()=>{const e=await n.e(341).then(n.t.bind(n,341,19));return e.default||e}));window.vue.component("TweenPos",t);const o=(0,a.defineAsyncComponent)((async()=>{const e=await n.e(812).then(n.t.bind(n,812,19));return e.default||e}));window.vue.component("TweenRotate",o),d.actions.register({component:"TweenPos",type:"tweens",name:"Animate Position",template:{name:"New Tween Position",from:{type:"accurate",value:{x:0,y:0,z:0}},to:{type:"accurate",value:{x:0,y:0,z:0}},delay:0,time:1e3,easing:"Easing.Linear.InOut",repeat:0,yoyo:!0},check:async()=>!0}),d.actions.register({component:"TweenRotate",type:"tweens",name:"Animate Rotation",template:{name:"New Tween Rotation",from:{type:"accurate",value:{x:0,y:0,z:0}},to:{type:"accurate",value:{x:0,y:0,z:0}},delay:0,time:1e3,easing:"Easing.Linear.InOut",repeat:0,yoyo:!0}}),d.actions.register({component:"TweenScale",type:"tweens",name:"Animate Scale",template:{name:"New Tween Scale",from:{type:"accurate",value:{x:1,y:1,z:1}},to:{type:"accurate",value:{x:1,y:1,z:1}},delay:0,time:1e3,easing:"Easing.Linear.InOut",repeat:0,yoyo:!0}}),window.TWEEN=s}else d.engine.onload(e)}()}}]);