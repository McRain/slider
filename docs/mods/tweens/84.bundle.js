"use strict";(self.webpackChunk_reneos_3d_mod_tweens=self.webpackChunk_reneos_3d_mod_tweens||[]).push([[84],{70:(e,t,o)=>{o.d(t,{A:()=>s});const n=new(o(816).Group);let r=!1;class a{static get Group(){return n}static Add(e){n.add(e),r||(r=!0,a.Update())}static Remove(e){n.remove(e),0===n.getAll().length&&(r=!1)}static Update(e){r&&(n.update(e),requestAnimationFrame(a.Update))}static ToDegrees(e){return 180*e/Math.PI}static ToRadians(e){return e*Math.PI/180}static ToRadiansV3(e){return{x:e.x*Math.PI/180,y:e.y*Math.PI/180,z:e.z*Math.PI/180}}}const s=a},470:(e,t,o)=>{o.r(t),o.d(t,{default:()=>d});var n=o(816),r=o(70),a=o(500);const s=`${Date.now()}_${Math.random()}`;function i(e,t,o){const n="accurate"===t?r.A.ToRadiansV3({...e}):{x:(o?.x||0)+r.A.ToRadians(e?.x||0),y:(o?.y||0)+r.A.ToRadians(e?.y||0),z:(o?.z||0)+r.A.ToRadians(e?.z||0)};return new a.Euler(n.x,n.y,n.z,"XYZ")}function d(e,t,o=!1){return new Promise((d=>{e.tween&&e.tween.uid===s&&e.tween.stop();let l=t;try{e.paths&&e.paths.forEach((e=>{if(!l)throw new Error(`Target is null at path ${e}`);l=l[e]})),e.target&&e.target.forEach((e=>{if(!l?.children)throw new Error("No children in target");const t=l.children.find((t=>t.uid===e));if(!t)throw new Error(`Child with uid ${e} not found`);l=t}))}catch(e){return console.error("Target resolution error:",e),d()}if(!l?.model)return console.error("Target model not found"),d();let u=l.data?.rotation||l.model.data?.rotation||{x:0,y:0,z:0};const c=i(e.from.value,e.from.type,l.model.rotation),w=i(e.to?.value||{},e.from.type,u),h=(new a.Quaternion).setFromEuler(c),m=e.easing.split(".");let p=n.Easing;for(let e=0;e<m.length;e++)p=p[m[e]];l.model.quaternion.copy(h),l.model.visible=!0;const y=new a.Vector3(c.x,c.y,c.z),f=new a.Vector3(w.x,w.y,w.z);e.tween=new n.Tween(y).to(f,o?0:e.time||1e3).delay(o?0:e.delay||0).easing(p).yoyo(Boolean(e.yoyo)).repeat(e.repeat||0).onUpdate((()=>{c.setFromVector3(y),l.model.quaternion.setFromEuler(c)})).onComplete((()=>{r.A.Remove(e.tween),e.tween=null,d()})).onStop((()=>{r.A.Remove(e.tween),e.tween=null,d()})),e.tween.uid=s,r.A.Add(e.tween),e.tween.start()}))}}}]);